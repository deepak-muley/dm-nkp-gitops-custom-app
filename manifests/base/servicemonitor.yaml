# ServiceMonitor is deprecated when using OpenTelemetry
# With OpenTelemetry, metrics are exported via OTLP to OTel Collector
# which then forwards them to Prometheus in Prometheus format
# This ServiceMonitor is kept for backward compatibility only
# To use it, you would need to expose a /metrics endpoint (not recommended with OTel)
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: dm-nkp-gitops-custom-app
  namespace: default
  labels:
    app: dm-nkp-gitops-custom-app
  annotations:
    # Disabled by default - metrics are collected via OpenTelemetry Collector
    prometheus.io/scrape: "false"
spec:
  selector:
    matchLabels:
      app: dm-nkp-gitops-custom-app
  # Note: With OpenTelemetry, this ServiceMonitor is not needed
  # Metrics are exported via OTLP to OTel Collector, which exposes them for Prometheus scraping
  endpoints: []
